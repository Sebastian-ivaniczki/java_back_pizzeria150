<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}"/>
<title>Modifica offerta [[ ${specialOffer.title} ]]</title>
</head>
<body>
	<th:block th:replace="frags/header :: header"></th:block>
	<main class="container py-5">
	<form class="d-flex flex-column align-items-center" th:action="@{'/pizzas/' + ${pizzaId} + '/special-offer/update/' + ${specialOffer.id}}" method="POST" th:object="${specialOffer}">
		<h1 class="mb-3">Crea Offerta</h1>
		<label>Titolo</label>
		<input class="mb-3" type="text" name="title" th:value="*{title}">
		<small 
			class="text-danger mb-3"
			th:if="${errors != null && errors.hasFieldErrors('title')}"
		>
			[[ ${errors.getFieldError('title').defaultMessage} ]]
		</small>
		<label>Data inizio</label>
		<input class="mb-3" type="date" name="startDate" th:value="*{startDate}">
		<small 
			class="text-danger mb-3"
			th:if="${errors != null && errors.hasFieldErrors('startDate')}"
		>
			[[ ${errors.getFieldError('startDate').defaultMessage} ]]
		</small>
		<label>Data fine</label>
		<input class="mb-3" type="date" name="endDate" th:value="*{endDate}">
		<small 
			class="text-danger mb-3"
			th:if="${errors != null && errors.hasFieldErrors('endDate')}"
		>
			[[ ${errors.getFieldError('endDate').defaultMessage} ]]
		</small>
		<label>Percentuale sconto</label>
		<input class="mb-3" type="number" min="0" name="discountPercentage" th:value="*{discountPercentage}">
		<small 
			class="text-danger mb-3"
			th:if="${errors != null && errors.hasFieldErrors('discountPercentage')}"
		>
			[[ ${errors.getFieldError('discountPercentage').defaultMessage} ]]
		</small>
		<input type="hidden" name="pizza" th:value="${pizzaId}">
		<button class="btn btn-success">Modifica</button>
	</form>
	</main>

</body>
</html>